<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Java - Lab 3: Design Avansat</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f3f4f6; color: #1f2937; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1 { text-align: center; color: #7c3aed; margin-bottom: 30px; border-bottom: 3px solid #7c3aed; padding-bottom: 10px; }
        .quiz-container { display: flex; flex-direction: column; gap: 20px; }
        .question-card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); border-left: 6px solid #7c3aed; }
        .question-text { font-weight: 700; font-size: 1.1em; margin-bottom: 15px; }
        .code-snippet { background-color: #111827; color: #e5e7eb; padding: 12px; border-radius: 6px; font-family: 'Consolas', monospace; font-size: 0.9em; margin-bottom: 15px; display: block; overflow-x: auto; }
        .options label { display: flex; align-items: center; padding: 12px; border-radius: 8px; cursor: pointer; border: 1px solid #e5e7eb; margin-bottom: 8px; transition: all 0.2s; }
        .options label:hover { background-color: #ede9fe; border-color: #7c3aed; }
        input[type="radio"] { margin-right: 15px; transform: scale(1.3); accent-color: #7c3aed; }
        
        .check-btn { background-color: #7c3aed; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-size: 1em; margin-top: 15px; font-weight: bold; transition: background 0.3s; }
        .check-btn:hover { background-color: #5b21b6; }
        .check-btn:disabled { background-color: #9ca3af; cursor: not-allowed; }

        .feedback { margin-top: 15px; padding: 15px; border-radius: 8px; display: none; }
        .feedback.correct { background-color: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
        .feedback.incorrect { background-color: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
        
        .score-board { position: fixed; bottom: 20px; right: 20px; background: #1f2937; color: white; padding: 15px 25px; border-radius: 50px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); font-weight: bold; font-size: 1.2em; z-index: 100; }
    </style>
</head>
<body>

    <h1>üèõÔ∏è Quiz: Inheritance & Polymorphism</h1>
    
    <div class="quiz-container" id="quiz-container"></div>
    <div class="score-board" id="score-display">Scor: 0 / 12</div>

    <script>
        const questions = [
            {
                id: 1,
                text: "Care este diferen»õa cheie √Æntre Agregare »ôi Compunere?",
                code: null,
                options: [
                    { val: "a", text: "Compunerea folose»ôte `extends`, Agregarea nu." },
                    { val: "b", text: "√én Agregare obiectul con»õinut moare odatƒÉ cu containerul." },
                    { val: "c", text: "√én Compunere obiectul con»õinut depinde de ciclul de via»õƒÉ al containerului (Strong Has-A)." },
                    { val: "d", text: "Nu existƒÉ nicio diferen»õƒÉ √Æn Java." }
                ],
                correct: "c",
                expl: "Compunerea este o rela»õie 'puternicƒÉ'. DacƒÉ obiectul pƒÉrinte este distrus, »ôi obiectele copil create de el sunt distruse automat."
            },
            {
                id: 2,
                text: "DacƒÉ nu scrii explicit `super()` √Æn constructorul copilului, ce face compilatorul?",
                code: "class Parent { Parent() {} }\nclass Child extends Parent {\n  Child() { System.out.println('Hi'); }\n}",
                options: [
                    { val: "a", text: "DƒÉ eroare de compilare." },
                    { val: "b", text: "Introduce automat `super()` ca prima linie." },
                    { val: "c", text: "Nu apeleazƒÉ constructorul pƒÉrintelui." },
                    { val: "d", text: "ApeleazƒÉ constructorul pƒÉrintelui la final." }
                ],
                correct: "b",
                expl: "Java garanteazƒÉ ini»õializarea pƒÉrintelui. DacƒÉ existƒÉ un constructor fƒÉrƒÉ parametri √Æn pƒÉrinte, compilatorul √Æl apeleazƒÉ automat la √Ænceput."
            },
            {
                id: 3,
                text: "Ce restric»õie impune o clasƒÉ declaratƒÉ `final`?",
                code: "final class String { ... }",
                options: [
                    { val: "a", text: "Nu poate fi instan»õiatƒÉ." },
                    { val: "b", text: "Toate metodele ei sunt statice." },
                    { val: "c", text: "Nu poate fi mo»ôtenitƒÉ (extended)." },
                    { val: "d", text: "Este o clasƒÉ abstractƒÉ." }
                ],
                correct: "c",
                expl: "`final` la nivel de clasƒÉ blocheazƒÉ mo»ôtenirea. Este folosit pentru securitate »ôi imutabilitate (ex: String)."
            },
            {
                id: 4,
                text: "Ce este Upcasting-ul?",
                code: "Animal a = new Dog();",
                options: [
                    { val: "a", text: "O opera»õie nesigurƒÉ ce necesitƒÉ verificare." },
                    { val: "b", text: "Conversia automatƒÉ de la Copil la PƒÉrinte." },
                    { val: "c", text: "Permite accesul la metodele specifice clasei Dog." },
                    { val: "d", text: "SchimbƒÉ obiectul din memorie din Dog √Æn Animal." }
                ],
                correct: "b",
                expl: "Upcasting (copil -> pƒÉrinte) este mereu sigur »ôi implicit. Obiectul din memorie rƒÉm√¢ne Dog, dar referin»õa este Animal."
            },
            {
                id: 5,
                text: "Ce va produce urmƒÉtorul cod?",
                code: "Animal a = new Animal();\nDog d = (Dog) a;",
                options: [
                    { val: "a", text: "Func»õioneazƒÉ corect." },
                    { val: "b", text: "Eroare de compilare." },
                    { val: "c", text: "CreeazƒÉ un c√¢ine din animal." },
                    { val: "d", text: "Eroare la runtime: ClassCastException." }
                ],
                correct: "d",
                expl: "Downcasting-ul e»ôueazƒÉ la rulare dacƒÉ obiectul real din memorie nu este de tipul la care √Æncerci sƒÉ faci cast."
            },
            {
                id: 6,
                text: "Care este rolul `VTable` (Virtual Method Table)?",
                code: null,
                options: [
                    { val: "a", text: "StocheazƒÉ variabilele statice." },
                    { val: "b", text: "RezolvƒÉ apelurile polimorfice (overriding) la runtime." },
                    { val: "c", text: "OptimizeazƒÉ constructorii." },
                    { val: "d", text: "GestioneazƒÉ Garbage Collection." }
                ],
                correct: "b",
                expl: "JVM folose»ôte VTable pentru a »ôti rapid ce versiune a unei metode suprascrise sƒÉ apeleze pentru un anumit obiect."
            },
            {
                id: 7,
                text: "Unde trebuie sƒÉ fie plasatƒÉ instruc»õiunea `super(x)` √Æn constructor?",
                code: null,
                options: [
                    { val: "a", text: "Oriunde." },
                    { val: "b", text: "Ultima linie." },
                    { val: "c", text: "Prima linie." },
                    { val: "d", text: "Doar √Æn blocul try-catch." }
                ],
                correct: "c",
                expl: "Pentru a asigura cƒÉ 'funda»õia' (pƒÉrintele) este construitƒÉ √Ænainte de 'etaj' (copilul), `super` este obligatoriu prima instruc»õiune."
            },
            {
                id: 8,
                text: "Metodele `static` suportƒÉ Overriding (Suprascriere)?",
                code: null,
                options: [
                    { val: "a", text: "Da." },
                    { val: "b", text: "Nu, ele pot fi doar 'ascunse' (Method Hiding)." },
                    { val: "c", text: "Doar dacƒÉ sunt »ôi `final`." },
                    { val: "d", text: "Doar √Æn clase abstracte." }
                ],
                correct: "b",
                expl: "Metodele statice apar»õin clasei, nu instan»õei. Ele nu folosesc VTable »ôi nu au polimorfism dinamic."
            },
            {
                id: 9,
                text: "Ce vizibilitate oferƒÉ `protected`?",
                code: null,
                options: [
                    { val: "a", text: "Doar √Æn clasa curentƒÉ." },
                    { val: "b", text: "√én tot proiectul." },
                    { val: "c", text: "√én acela»ôi pachet »òI √Æn subclase din alte pachete." },
                    { val: "d", text: "Doar √Æn subclase, dar nu √Æn acela»ôi pachet." }
                ],
                correct: "c",
                expl: "`protected` este g√¢ndit special pentru mo»ôtenire. Permite accesul copiilor, indiferent de pachet."
            },
            {
                id: 10,
                text: "De ce evitƒÉm folosirea excesivƒÉ a `instanceof`?",
                code: "if (x instanceof Dog) ...",
                options: [
                    { val: "a", text: "Este foarte lent." },
                    { val: "b", text: "√éncalcƒÉ principiile OOP (Open-Closed). Ar trebui folosit polimorfismul." },
                    { val: "c", text: "Nu func»õioneazƒÉ cu interfe»õe." },
                    { val: "d", text: "DƒÉ eroare de compilare." }
                ],
                correct: "b",
                expl: "DacƒÉ ai multe `if-instanceof`, √ÆnseamnƒÉ cƒÉ nu folose»ôti corect metodele suprascrise (polimorfismul)."
            },
            {
                id: 11,
                text: "Ce face implementarea implicitƒÉ a metodei `equals()` din clasa Object?",
                code: null,
                options: [
                    { val: "a", text: "ComparƒÉ toate c√¢mpurile." },
                    { val: "b", text: "ComparƒÉ referin»õele (adresele), la fel ca `==`." },
                    { val: "c", text: "ReturneazƒÉ mereu true." },
                    { val: "d", text: "AruncƒÉ excep»õie." }
                ],
                correct: "b",
                expl: "DacƒÉ nu o suprascrii, `equals` verificƒÉ doar dacƒÉ e vorba de exact acela»ôi obiect √Æn memorie."
            },
            {
                id: 12,
                text: "Po»õi restr√¢nge accesul unei metode suprascrise (din public √Æn private)?",
                code: "Parent: public void m() -> Child: private void m()",
                options: [
                    { val: "a", text: "Da." },
                    { val: "b", text: "Nu, vizibilitatea trebuie sƒÉ fie la fel sau mai mare." },
                    { val: "c", text: "Doar dacƒÉ clasa e abstractƒÉ." },
                    { val: "d", text: "Nu conteazƒÉ." }
                ],
                correct: "b",
                expl: "Regula Liskov: DacƒÉ pƒÉrintele a promis cƒÉ metoda e publicƒÉ, copilul nu are voie sƒÉ o ascundƒÉ."
            }
        ];

        let score = 0;
        const container = document.getElementById('quiz-container');

        questions.forEach(q => {
            const card = document.createElement('div');
            card.className = 'question-card';
            
            let codeHtml = q.code ? `<code class="code-snippet">${q.code}</code>` : '';
            
            let optionsHtml = '';
            q.options.forEach(opt => {
                optionsHtml += `
                    <label>
                        <input type="radio" name="q${q.id}" value="${opt.val}">
                        ${opt.text}
                    </label>
                `;
            });

            card.innerHTML = `
                <div class="question-text">${q.id}. ${q.text}</div>
                ${codeHtml}
                <div class="options">${optionsHtml}</div>
                <button class="check-btn" onclick="checkAnswer(${q.id}, '${q.correct}')">VerificƒÉ RƒÉspunsul</button>
                <div id="feedback-${q.id}" class="feedback"></div>
            `;
            container.appendChild(card);
        });

        function checkAnswer(id, correctVal) {
            const selected = document.querySelector(`input[name="q${id}"]:checked`);
            const feedbackDiv = document.getElementById(`feedback-${id}`);
            const btn = document.querySelector(`button[onclick="checkAnswer(${id}, '${correctVal}')"]`);
            
            if (!selected) {
                alert("Alege o variantƒÉ!");
                return;
            }

            const inputs = document.querySelectorAll(`input[name="q${id}"]`);
            inputs.forEach(input => input.disabled = true);
            btn.disabled = true;
            btn.textContent = "Verificat";

            const questionData = questions.find(q => q.id === id);
            feedbackDiv.style.display = 'block';

            if (selected.value === correctVal) {
                feedbackDiv.className = 'feedback correct';
                feedbackDiv.innerHTML = `<strong>‚úÖ Corect!</strong> ${questionData.expl}`;
                score++;
                document.getElementById('score-display').innerText = `Scor: ${score} / ${questions.length}`;
            } else {
                feedbackDiv.className = 'feedback incorrect';
                feedbackDiv.innerHTML = `<strong>‚ùå Gre»ôit.</strong> ${questionData.expl}`;
            }
        }
    </script>
</body>
</html>